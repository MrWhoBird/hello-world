github -> jenkins -> ssh agent to ansible, send files to ansible -> run playbook to push to dockerhub & deploy on docker-server 

ec2-jenkins-server setup:
- jenkins.sh
- configure jenkins, git, maven tool
- install publish over ssh


ec2-docker-server setup:
- docker.sh
- create dockeradmin and ansadmin (ansadmin to connect from ansible-server as ansadmin user) (+passwd)
- visudo -> add ansadmin to sudoers
- vi /etc/ssh/sshd_config -> enable password
- service sshd reload


ec2-ansible-server setup:
- ansible.sh
- create ansadmin (+passwd)
- visudo -> add to sudoers
- vi /etc/ssh/sshd_config -> enable password
- service sshd reload
- on ansadmin profile create ssh keys: ssh-keygen
as ansadmin:
add to hosts file: sudo vi /etc/ansible/hosts -> add ansible ip with [ansible] and docker ip with [docker]
copy ssh to docker-server (to ansadmin) and to itself keys: ssh-copy-id [ip] (ssh key required by ansible)
test connection: ansible all -m ping / ansible all -a uptime


integrate ansible with jenkins:
- add ansible-server to ssh credentials in jenkins
- create job -> publish over ssh (github => jenkins -> transfer files to ansible server //opt/docker)
- ansible-playbook to push to dockerhub + run on docker-server [in jenkinsfile]